---
import type { Experience } from "../data/experience";
import { Image } from "astro:assets";

interface Props {
  experience: Experience;
  showLineAfter: boolean;
  showLineBefore: boolean;
}

const { experience, showLineAfter, showLineBefore } = Astro.props;
---

<div class="main">
  <div class="imageContainer">
    <div class="subImageContainer">
      {showLineAfter && <span class="line line-after" />}
      {showLineBefore && <span class="line line-before" />}
      {
        experience.logo ? (
          <Image
            width={100}
            height={100}
            class="image"
            src={experience.logo}
            alt=""
          />
        ) : (
          <Image
            width={100}
            height={100}
            class="image imageDefalt"
            src="./img/experiences/freelance.png"
            alt=""
          />
        )
      }
    </div>
  </div>
  <h2 class="title">{experience.title}</h2>
  <p class="description">{experience.description}</p>
  <!-- <h1 class="bg-white">{showLineAfter}</h1>
  <h1 class="bg-white">{showLineBefore}</h1> -->
</div>

<style>
  .main {
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 0 1rem;
  }
  .imageContainer {
    width: 3rem;
    height: 100%;
    grid-column: 1/2;
    grid-row: 1/3;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
  }
  .subImageContainer {
    width: 3rem;
    height: 3rem;
    grid-column: 1/2;
    grid-row: 1/3;
    background-color: #006bde;
    border-radius: 50%;
    /* overflow: hidden; */
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
  }
  .line {
    position: absolute;
    width: 1px;
    height: 50%;
    background-color: #00ffff;
    z-index: -1;
  }
  .line-after {
    bottom: 100%;
    left: 50%;
  }
  .line-before {
    top: 100%;
    left: 50%;
  }
  .image {
    object-fit: contain;
    object-position: top center;
    border-radius: 50%;
  }

  .imageDefalt {
    width: 2rem;
    height: 2rem;
    filter: invert(80%) sepia(50%) saturate(996%) hue-rotate(119deg)
      brightness(104%) contrast(104%);
  }
  .title {
    font-size: 1rem;
    font-weight: bold;
    margin: 0;
    grid-column: 2/3;
    color: #00ffff;
    text-shadow: 1px 1px 5px #006bde;
  }
  .description {
    font-size: 0.7rem;
    margin: 0;
    grid-column: 2/3;
    color: #00ffff;
  }
</style>
